<!DOCTYPE html>
<html>

<head>
    <title>Form Validation and Field Highlighting</title>
    <style>
        .error {
            background-color: red;
        }

        .success {
            background-color: green;
        }
    </style>
</head>

<body>
    <form action="form_processing.php" method="post">
        <input type="text" name="name" id="name" value="name" required=True>
        <span class="error">
            <?php echo $nameErr; ?>
        </span>
        <br><br>
        <input type="text" name="email" id="email" value="<?php echo $email; ?>">
        <span class="error">
            <?php echo $emailErr; ?>
        </span>
        <br><br>
        <input type="submit" name="submit" value="Submit">
    </form>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("name").addEventListener("input", validateName);
            document.getElementById("email").addEventListener("input", validateEmail);
        });

        function validateName() {
            var name = document.getElementById("name").value;
            if (name === "") {
                document.getElementById("name").classList.add("error");
                document.getElementById("name").classList.remove("success");
            } else {
                document.getElementById("name").classList.add("success");
                document.getElementById("name").classList.remove("error");
            }
        }

        function validateEmail() {
            var email = document.getElementById("email").value;
            var emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
            if (!emailRegex.test(email)) {
                document.getElementById("email").classList.add("error");
                document.getElementById("email").classList.remove("success");
            } else {
                document.getElementById("email").classList.add("success");
                document.getElementById("email").classList.remove("error");
            }
        }
    </script>
</body>

</html>